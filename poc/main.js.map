{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/resources/loader.ts","webpack:///./src/actors/base-actor.ts","webpack:///./src/scenes/office.ts","webpack:///./src/index.ts","webpack:///./res/font/font_1.png","webpack:///./res/font/font_2.png","webpack:///./res/background.png","webpack:///./res/props.png","webpack:///./res/screen.png","webpack:///./res/coffee.png","webpack:///./res/ui.png","webpack:///./res/main.png","webpack:///./res/dark-overlay.png","webpack:///./src/actors/me.ts","webpack:///./src/models/inventory.ts","webpack:///./src/actors/coffee.ts","webpack:///./src/actors/flipper.ts","webpack:///./src/actors/headphones.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","PIXEL_SCALE","speakingFontFile","actionFontFile","background","props","screen","coffee","ui","me","darkOverlay","Resources","Texture","speakingFont","actionFont","dark","loader","Loader","res","logo","suppressPlayButton","backgroundColor","addResource","propsSpriteSheet","SpriteSheet","screenSpriteSheet","coffeeSpriteSheet","meSpriteSheet","uiSpriteSheet","SpriteFont","PropType","Actor","BaseActor","ButtonColumn","ButtonRow","Action","currentAction","LookAt","activeProps","inventory","Inventory","actionMap","Coffee","initiator","actions","clearActions","moveToItem","callMethod","speak","PickUp","removeProp","addToInventory","Use","holdCoffee","InventoryUse","LightSwitch","visible","Headphones","groove","Flipper","Chair","sitting","fade","Keyboard","toggleState","onInitialize","engine","addDrawing","anchor","Vector","Zero","pos","x","y","this","add","Me","setMidPoint","halfDrawWidth","actionLabel","Label","color","Color","fromHex","fontSize","prop","on","performAction","buildUI","action","perform","propType","it","remove","filter","offsetX","startWalkAnimation","moveTo","getBottom","walkSpeed","idle","buildButton","Left","Top","Middle","Bottom","Right","drawInventory","text","col","row","callback","sprite","width","getSprite","button","UIActor","buttonText","enabled","label","onPostUpdate","pointerPos","input","pointers","primary","lastWorldPos","activePropAt","setActionString","height","actors","displayName","onActivate","onDeactivate","Scene","Office","Engine","displayMode","DisplayMode","FullScreen","start","setAntialiasing","goToScene","State","animationSpeed","lastTimeSpoken","Date","now","state","Idle","canvasMidpoint","setTo","beardScratch","getAnimationBetween","loop","BeardScratch","HoldingCoffee","drinking","DrinkingCoffee","Grooving","WalkLeft","WalkRight","Sitting","SittingGrooving","SittingHoldingCoffee","sittingDrinkingCoffee","SittingDrinkingCoffee","saying","letterSpacing","setDrawing","onPostDraw","currentAnimation","currentDrawing","Animation","isDone","randomIntInRange","includes","drinkCoffee","target","Moving","words","rows","columns","slots","type","emptySlot","find","slot","children","item","createProp","console","log","office","scene","removeFromInventory","at","forEach","parent","getAnimationForAll","update","delta"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([4,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Color, Texture, Loader, SpriteFont, SpriteSheet } from \"excalibur\";\nimport { SpriteFontImpl } from \"excalibur/dist/Drawing/SpriteSheet\";\nimport { Colorize } from \"excalibur/dist/Drawing/SpriteEffects\";\n\nexport const PIXEL_SCALE = 4;\n\nconst speakingFontFile = require(\"../../res/font/font_1.png\");\nconst actionFontFile = require(\"../../res/font/font_2.png\");\nconst background = require(\"../../res/background.png\");\nconst props = require(\"../../res/props.png\");\nconst screen = require(\"../../res/screen.png\");\nconst coffee = require(\"../../res/coffee.png\");\nconst ui = require(\"../../res/ui.png\");\nconst me = require(\"../../res/main.png\");\nconst darkOverlay = require(\"../../res/dark-overlay.png\");\n\nconst Resources: { [key: string]: ex.Texture } = {\n  background: new Texture(background),\n  speakingFont: new Texture(speakingFontFile),\n  actionFont: new Texture(actionFontFile),\n  props: new Texture(props),\n  screen: new Texture(screen),\n  coffee: new Texture(coffee),\n  ui: new Texture(ui),\n  me: new Texture(me),\n  dark: new Texture(darkOverlay),\n};\n\nconst loader = new Loader();\n\n// Setting logo to empty image\nloader.logo =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\";\nloader.suppressPlayButton = true;\nloader.backgroundColor = \"#ababab\";\n\nfor (const res in Resources) {\n  loader.addResource(Resources[res]);\n}\n\nconst propsSpriteSheet = new SpriteSheet(\n  Resources.props,\n  6,\n  4,\n  31 * PIXEL_SCALE,\n  46 * PIXEL_SCALE\n);\n\nconst screenSpriteSheet = new SpriteSheet(\n  Resources.screen,\n  8,\n  16,\n  27 * PIXEL_SCALE,\n  22 * PIXEL_SCALE\n);\n\nconst coffeeSpriteSheet = new SpriteSheet(\n  Resources.coffee,\n  8,\n  1,\n  8 * PIXEL_SCALE,\n  12 * PIXEL_SCALE\n);\n\nconst meSpriteSheet = new SpriteSheet(\n  Resources.me,\n  8,\n  12,\n  64 * PIXEL_SCALE,\n  64 * PIXEL_SCALE\n);\n\nconst uiSpriteSheet = new SpriteSheet(\n  Resources.ui,\n  4,\n  1,\n  65 * PIXEL_SCALE,\n  20 * PIXEL_SCALE\n);\n\nconst actionFont = new SpriteFont(\n  Resources.actionFont,\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!0123456789 .?\",\n  false,\n  67,\n  1,\n  6,\n  10\n);\nconst speakingFont = new SpriteFont(\n  Resources.speakingFont,\n  \"!\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ \",\n  false,\n  96,\n  1,\n  128,\n  128\n);\n\nexport {\n  speakingFont,\n  actionFont,\n  loader,\n  Resources,\n  propsSpriteSheet,\n  screenSpriteSheet,\n  coffeeSpriteSheet,\n  meSpriteSheet,\n  uiSpriteSheet,\n};\n","import { Actor } from \"excalibur\";\nimport { Action } from \"../scenes/office\";\n\nexport enum PropType {\n  Coffee,\n  Chair,\n  Flipper,\n  Headphones,\n  ImportantPapers,\n  Keyboard,\n  LightSwitch,\n  LunarModule,\n  Me,\n  Rocket,\n  Screen,\n}\nexport abstract class BaseActor extends Actor {\n  public abstract displayName: string;\n  public abstract propType: PropType;\n\n  //   public abstract interact(action: Action, items: BaseActor[]);\n}\n","import { Scene, Engine, Actor, Label, Color, Vector, UIActor } from \"excalibur\";\nimport {\n  Resources,\n  propsSpriteSheet,\n  actionFont,\n  uiSpriteSheet,\n  PIXEL_SCALE,\n} from \"../resources/loader\";\nimport { Screen } from \"../actors/screen\";\nimport { Rocket } from \"../actors/rocket\";\nimport { Coffee } from \"../actors/coffee\";\nimport { ImportantPapers } from \"../actors/ImportantPapers\";\nimport { Headphones } from \"../actors/headphones\";\nimport { Flipper } from \"../actors/flipper\";\nimport { LightSwitch } from \"../actors/light-switch\";\nimport { LunarAscendModule } from \"../actors/lunar-ascend-module\";\nimport { Keyboard } from \"../actors/keyboard\";\nimport { Chair } from \"../actors/chair\";\nimport { Me } from \"../actors/me\";\nimport { BaseActor, PropType } from \"../actors/base-actor\";\nimport { Inventory } from \"../models/inventory\";\n\nenum ButtonColumn {\n  Left = 4,\n  Middle = 216,\n  Right = 480,\n}\n\nenum ButtonRow {\n  Top = 500,\n  Middle = 584,\n  Bottom = 668,\n}\n\nexport enum Action {\n  Give = \"Give\",\n  Open = \"Open\",\n  Close = \"Close\",\n  PickUp = \"Pick up\",\n  TalkTo = \"Talk to\",\n  LookAt = \"Look at\",\n  Use = \"Use\",\n  InventoryUse = \"InventoryUse\",\n  Push = \"Push\",\n  Pull = \"Pull\",\n}\n\nexport class Office extends Scene {\n  private me: Me;\n  private currentAction = Action.LookAt;\n  private actionLabel: Label;\n  private activeProps: BaseActor[] = [];\n  private inventory = new Inventory();\n  darkOverlay: Actor;\n  screen: Screen;\n\n  public onInitialize(engine: Engine) {\n    const background = new Actor();\n    background.addDrawing(Resources.background);\n    background.anchor = Vector.Zero;\n    background.pos.x = 0;\n    background.pos.y = 0;\n    this.add(background);\n\n    // const rightDrawer = new Actor(730, 444);\n    // rightDrawer.addDrawing(propsSpriteSheet.getSprite(3));\n    // this.add(rightDrawer);\n\n    // const leftDrawer = new Actor(282, 444);\n    // leftDrawer.addDrawing(propsSpriteSheet.getSprite(4));\n    // this.add(leftDrawer);\n\n    // const magazineHolder = new Actor(750, 388);\n    // magazineHolder.addDrawing(propsSpriteSheet.getSprite(11));\n    // this.add(magazineHolder);\n\n    // const books = new Actor(776, 364);\n    // books.addDrawing(propsSpriteSheet.getSprite(16));\n    // this.add(books);\n\n    // const picture1 = new Actor(690, 170);\n    // picture1.addDrawing(propsSpriteSheet.getSprite(10));\n    // this.add(picture1);\n\n    // const picture2 = new Actor(640, 260);\n    // picture2.addDrawing(propsSpriteSheet.getSprite(9));\n    // this.add(picture2);\n\n    // const rocketBack = new Actor(400, 140);\n    // rocketBack.addDrawing(propsSpriteSheet.getSprite(0));\n    // this.add(rocketBack);\n\n    // this.screen = new Screen(510, 298);\n    // this.add(this.screen);\n    // // this.activeProps.push(this.screen);\n\n    // const lampSprite = propsSpriteSheet.getSprite(17);\n    // const rightLamp = new Actor(730, 92);\n    // rightLamp.addDrawing(lampSprite);\n    // this.add(rightLamp);\n\n    // const leftLamp = new Actor(338, 92);\n    // leftLamp.addDrawing(lampSprite);\n    // this.add(leftLamp);\n\n    // const rocket = new Rocket(400, 138);\n    // this.add(rocket);\n\n    // const coffee = new Coffee(416, 296);\n    // this.add(coffee);\n    // this.activeProps.push(coffee);\n\n    // const importantPapers = new ImportantPapers(320, 400);\n    // this.add(importantPapers);\n    // this.activeProps.push(importantPapers);\n\n    // const headphones = new Headphones(284, 314);\n    // this.add(headphones);\n    // this.activeProps.push(headphones);\n\n    // const flipper = new Flipper(548, 324);\n    // this.add(flipper);\n    // this.activeProps.push(flipper);\n\n    // const lightSwitch = new LightSwitch(950, 282);\n    // this.add(lightSwitch);\n    // this.activeProps.push(lightSwitch);\n\n    // // Lunar module\n    // const lunarModuleBottomSprite = propsSpriteSheet.getSprite(13);\n    // const lunarModuleBottom = new Actor(696, 414);\n    // lunarModuleBottom.addDrawing(lunarModuleBottomSprite);\n    // this.add(lunarModuleBottom);\n\n    // const ascendStage = new LunarAscendModule(716, 402);\n    // this.add(ascendStage);\n    // this.activeProps.push(ascendStage);\n\n    // // Keyboard\n    // const keyboard = new Keyboard(490, 338);\n    // this.add(keyboard);\n    // this.activeProps.push(keyboard);\n\n    // // Chair\n    // const chair = new Chair(338, 304);\n    // this.add(chair);\n    // this.activeProps.push(chair);\n\n    // this.darkOverlay = new Actor(0, 0);\n    // this.darkOverlay.anchor = Vector.Zero;\n    // this.darkOverlay.pos.x = 0;\n    // this.darkOverlay.pos.y = 0;\n    // this.darkOverlay.addDrawing(Resources.dark);\n    // this.darkOverlay.visible = false;\n    // this.add(this.darkOverlay);\n\n    // Me\n    this.me = new Me(80, 444);\n    this.me.setMidPoint(engine.halfDrawWidth);\n    this.add(this.me);\n    this.activeProps.push(this.me);\n\n    this.actionLabel = new Label(\"\", 400, 494, null, actionFont);\n    this.actionLabel.color = Color.fromHex(\"7dadcb\");\n    this.actionLabel.fontSize = 28;\n    this.add(this.actionLabel);\n\n    for (const prop of this.activeProps) {\n      prop.on(\"pointerdown\", () => this.performAction(prop));\n    }\n    this.buildUI();\n  }\n\n  public performAction(on: BaseActor, action?: Action) {\n    const perform = action ? action : this.currentAction;\n    this.actionMap[on.propType][perform](on);\n  }\n\n  private removeProp(it: BaseActor) {\n    this.remove(it);\n    this.activeProps = this.activeProps.filter((prop) => prop !== it);\n  }\n\n  private actionMap = {\n    [PropType.Coffee]: {\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"Looks like a cup of coffee.\");\n        });\n      },\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.removeProp(initiator);\n          this.inventory.addToInventory(PropType.Coffee);\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.removeProp(initiator);\n          this.inventory.addToInventory(PropType.Coffee);\n          this.me.holdCoffee();\n        });\n      },\n      [Action.InventoryUse]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.me.actions.callMethod(() => {\n          this.me.holdCoffee();\n        });\n      },\n    },\n    [PropType.LightSwitch]: {\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"That is differently a light switch.\");\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        if (!this.darkOverlay.visible) {\n          this.me.actions\n            .callMethod(() => (this.darkOverlay.visible = true))\n            .callMethod(() => {\n              this.me.speak(\"Ehmm.. kinda dark now\");\n            });\n        } else {\n          this.me.actions\n            .callMethod(() => (this.darkOverlay.visible = false))\n            .callMethod(() => {\n              this.me.speak(\"That's better!\");\n            });\n        }\n      },\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() =>\n          this.me.speak(\"It's stuck to the wall.\")\n        );\n      },\n    },\n    [PropType.Headphones]: {\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"Sonic productivity boosters. Or... headphones\");\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.actionMap[PropType.Headphones][Action.PickUp](initiator);\n        this.me.actions.callMethod(() => {\n          this.me.groove();\n        });\n      },\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.removeProp(initiator);\n          this.inventory.addToInventory(PropType.Headphones);\n        });\n      },\n      [Action.InventoryUse]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.me.actions.callMethod(() => {\n          this.me.groove();\n        });\n      },\n    },\n\n    [PropType.Flipper]: {\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"Its a small programmable robot toy\");\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"It's not of much use right now\");\n        });\n      },\n      [Action.InventoryUse]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"It's not of much use right now\");\n        });\n      },\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.removeProp(initiator);\n          this.inventory.addToInventory(PropType.Flipper);\n        });\n      },\n    },\n    [PropType.Chair]: {\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"Its a chair. You sit in it\");\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator, 126);\n        this.me.actions\n          .callMethod(() => this.me.sitting())\n          .callMethod(() => initiator.actions.fade(0, 0));\n      },\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"It's a bit too large to carry around\");\n        });\n      },\n    },\n    [PropType.Keyboard]: {\n      [Action.PickUp]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"I think I'll leave it in place for now.\");\n        });\n      },\n      [Action.Use]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.screen.toggleState();\n        });\n      },\n      [Action.LookAt]: (initiator: BaseActor) => {\n        this.me.actions.clearActions();\n        this.moveToItem(initiator);\n        this.me.actions.callMethod(() => {\n          this.me.speak(\"Thats my keyboard. There are many like it...\");\n        });\n      },\n    },\n  };\n\n  private moveToItem(initiator: BaseActor, offsetX = 0) {\n    this.me.actions\n      .callMethod(() =>\n        this.me.startWalkAnimation(initiator.pos.x - 50 + offsetX)\n      )\n      .moveTo(initiator.pos.x - 50 + offsetX, this.me.getBottom(), Me.walkSpeed)\n      .callMethod(() => this.me.idle());\n  }\n  // TODO: Pull out to separate class\n  private buildUI() {\n    // UI\n    this.add(this.buildButton(\"Give\", ButtonColumn.Left, ButtonRow.Top));\n    this.add(this.buildButton(\"Open\", ButtonColumn.Left, ButtonRow.Middle));\n    this.add(this.buildButton(\"Close\", ButtonColumn.Left, ButtonRow.Bottom));\n\n    this.add(\n      this.buildButton(\"Pick up\", ButtonColumn.Middle, ButtonRow.Top, () => {\n        this.currentAction = Action.PickUp;\n      })\n    );\n\n    this.add(\n      this.buildButton(\"Talk to\", ButtonColumn.Middle, ButtonRow.Middle)\n    );\n\n    this.add(\n      this.buildButton(\"Look at\", ButtonColumn.Middle, ButtonRow.Bottom, () => {\n        this.currentAction = Action.LookAt;\n      })\n    );\n\n    this.add(\n      this.buildButton(\"Use\", ButtonColumn.Right, ButtonRow.Top, () => {\n        this.currentAction = Action.Use;\n      })\n    );\n    this.add(this.buildButton(\"Push\", ButtonColumn.Right, ButtonRow.Middle));\n    this.add(this.buildButton(\"Pull\", ButtonColumn.Right, ButtonRow.Bottom));\n\n    this.inventory.drawInventory(this);\n  }\n\n  private buildButton(\n    text: string,\n    col: ButtonColumn,\n    row: ButtonRow,\n    callback?\n  ) {\n    // Select sprite based on col\n    let sprite, width;\n    switch (col) {\n      case ButtonColumn.Left:\n        sprite = uiSpriteSheet.getSprite(0);\n        width = 51 * PIXEL_SCALE;\n        break;\n      case ButtonColumn.Middle:\n        sprite = uiSpriteSheet.getSprite(1);\n        width = 65 * PIXEL_SCALE;\n        break;\n      case ButtonColumn.Right:\n        sprite = uiSpriteSheet.getSprite(2);\n        width = 51 * PIXEL_SCALE;\n        break;\n    }\n\n    const button = new UIActor(col, row, width, 20 * PIXEL_SCALE);\n    button.addDrawing(sprite);\n\n    button.add(this.buttonText(text, callback!!, 62));\n    if (callback) {\n      button.on(\"pointerdown\", callback);\n    }\n\n    return button;\n  }\n\n  private buttonText(text: string, enabled = false, x: number) {\n    const label = new Label(text, x, 62, null, actionFont);\n    label.color = enabled ? Color.fromHex(\"9cbeaf\") : Color.fromHex(\"456d7a\");\n    label.fontSize = 34;\n\n    return label;\n  }\n\n  public onPostUpdate(engine: Engine) {\n    const pointerPos = engine.input.pointers.primary.lastWorldPos;\n    if (!pointerPos) {\n      this.setActionString();\n      return;\n    }\n\n    const prop = this.activePropAt(pointerPos.x, pointerPos.y);\n    if (prop) {\n      this.setActionString([prop]);\n    } else {\n      this.setActionString();\n    }\n  }\n\n  private activePropAt(x: number, y: number) {\n    for (const prop of this.activeProps) {\n      if (\n        prop.pos.x <= x &&\n        x <= prop.pos.x + prop.width &&\n        prop.pos.y <= y &&\n        y <= prop.pos.y + prop.height\n      ) {\n        return prop;\n      }\n    }\n  }\n\n  private setActionString(actors: BaseActor[] = []) {\n    if (actors.length > 0) {\n      this.actionLabel.text = `${this.currentAction} ${actors[0].displayName}`;\n    } else {\n      this.actionLabel.text = `${this.currentAction}`;\n    }\n  }\n\n  public onActivate() {}\n  public onDeactivate() {}\n}\n","import { Office } from \"./scenes/office\";\nimport { loader } from \"./resources/loader\";\nimport { DisplayMode, Input, Engine, Color } from \"excalibur\";\n\nlet engine = new Engine({\n  displayMode: DisplayMode.FullScreen,\n  // position: \"top left\",\n  // width: 1280 / 2,\n  // height: 752 / 2,\n  // pointerScope: Input.PointerScope.Document,\n});\n\nengine.start(loader);\nengine.backgroundColor = new Color(0, 0, 0);\nengine.setAntialiasing(false);\nengine.add(\"office\", new Office(engine));\nengine.goToScene(\"office\");\n","module.exports = __webpack_public_path__ + \"55ef1337ab9a65a4a3f2b5c12f7d437c.png\";","module.exports = __webpack_public_path__ + \"316b8af939e84165dc4ce706d373056d.png\";","module.exports = __webpack_public_path__ + \"57f6da829ed3ffd6eb5c0d81b776d2a7.png\";","module.exports = __webpack_public_path__ + \"383f4a8fc1e26e096714d8293e232259.png\";","module.exports = __webpack_public_path__ + \"9358f212fa5635096323c1efad5c06bc.png\";","module.exports = __webpack_public_path__ + \"aa8f045f3048d9c3f447f45063c42c6b.png\";","module.exports = __webpack_public_path__ + \"cb921b6684fd1ecf73e2c3ba0be947aa.png\";","module.exports = __webpack_public_path__ + \"0bd61d9184be9d2903d480f8ae91eff4.png\";","module.exports = __webpack_public_path__ + \"55b51420e9bb0dee7b77500be232593f.png\";","import { Engine, Label, Animation } from \"excalibur\";\nimport { meSpriteSheet, speakingFont } from \"../resources/loader\";\nimport { randomIntInRange } from \"excalibur/dist/Util\";\nimport { BaseActor, PropType } from \"./base-actor\";\n\nenum State {\n  Idle = \"idle\",\n  Moving = \"moving\",\n\n  WalkRight = \"walkRight\",\n  WalkLeft = \"walkLeft\",\n\n  BeardScratch = \"beardScratch\",\n  HoldingCoffee = \"holdingCoffee\",\n  DrinkingCoffee = \"drinkingCoffee\",\n  Grooving = \"grooving\",\n\n  Sitting = \"sitting\",\n  SittingHoldingCoffee = \"sittingHoldingCoffee\",\n  SittingDrinkingCoffee = \"sittingDrinkingCoffee\",\n  SittingGrooving = \"sittingGrooving\",\n\n  Back = \"back\",\n  BackGrooving = \"backGrooving\",\n}\n\nexport class Me extends BaseActor {\n  public displayName = \"Me\";\n  public propType = PropType.Me;\n  private animationSpeed = 200;\n  private saying: Label;\n  private lastTimeSpoken = Date.now();\n  static walkSpeed = 120;\n  private state = State.Idle;\n  private canvasMidpoint;\n\n  public setMidPoint(halfDrawWidth: number) {\n    this.canvasMidpoint = halfDrawWidth;\n  }\n\n  public onInitialize(engine: Engine) {\n    this.anchor.setTo(0.5, 1);\n\n    this.addDrawing(State.Idle, meSpriteSheet.getSprite(16));\n    const beardScratch = meSpriteSheet.getAnimationBetween(\n      engine,\n      25,\n      32,\n      this.animationSpeed\n    );\n    beardScratch.loop = false;\n    this.addDrawing(State.BeardScratch, beardScratch);\n\n    this.addDrawing(\n      State.HoldingCoffee,\n      meSpriteSheet.getAnimationBetween(engine, 32, 41, this.animationSpeed)\n    );\n\n    const drinking = meSpriteSheet.getAnimationBetween(\n      engine,\n      40,\n      48,\n      this.animationSpeed\n    );\n    drinking.loop = false;\n    this.addDrawing(State.DrinkingCoffee, drinking);\n\n    this.addDrawing(\n      State.Grooving,\n      meSpriteSheet.getAnimationBetween(engine, 48, 64, this.animationSpeed)\n    );\n\n    this.addDrawing(\n      State.WalkLeft,\n      meSpriteSheet.getAnimationBetween(engine, 8, 16, this.animationSpeed)\n    );\n\n    this.addDrawing(\n      State.WalkRight,\n      meSpriteSheet.getAnimationBetween(engine, 0, 8, this.animationSpeed)\n    );\n\n    this.addDrawing(State.Sitting, meSpriteSheet.getSprite(19));\n    this.addDrawing(\n      State.SittingGrooving,\n      meSpriteSheet.getAnimationBetween(engine, 64, 71, this.animationSpeed)\n    );\n\n    this.addDrawing(\n      State.SittingHoldingCoffee,\n      meSpriteSheet.getAnimationBetween(engine, 88, 96, this.animationSpeed)\n    );\n\n    const sittingDrinkingCoffee = meSpriteSheet.getAnimationBetween(\n      engine,\n      80,\n      88,\n      this.animationSpeed\n    );\n    sittingDrinkingCoffee.loop = false;\n    this.addDrawing(State.SittingDrinkingCoffee, sittingDrinkingCoffee);\n\n    this.saying = new Label(\"\", 50, -240, null, speakingFont);\n    this.saying.letterSpacing = -10;\n    this.saying.text = \"\";\n    this.saying.visible = false;\n    this.saying.fontSize = 28;\n    this.add(this.saying);\n\n    this.setDrawing(State.Idle);\n    this.speak(\"Hi\");\n  }\n\n  public onPostDraw() {\n    if (this.lastTimeSpoken - Date.now() < -5000) {\n      this.speak(\"\");\n    }\n\n    const currentAnimation = this.currentDrawing as Animation;\n    if (\n      this.state === State.BeardScratch &&\n      currentAnimation instanceof Animation &&\n      currentAnimation.isDone()\n    ) {\n      this.idle();\n    } else if (this.state === State.Idle && randomIntInRange(0, 200) < 1) {\n      // Trigger beard scratch once in a while\n      this.setDrawing(State.BeardScratch);\n      this.state = State.BeardScratch;\n    } else if (\n      [State.HoldingCoffee, State.SittingHoldingCoffee].includes(this.state) &&\n      randomIntInRange(0, 140) < 1\n    ) {\n      // Have a sip of coffee once in a while\n      this.drinkCoffee();\n    } else if (\n      this.state === State.DrinkingCoffee &&\n      currentAnimation instanceof Animation &&\n      currentAnimation.isDone()\n    ) {\n      this.setDrawing(State.HoldingCoffee);\n      this.state = State.HoldingCoffee;\n    } else if (\n      this.state === State.SittingDrinkingCoffee &&\n      currentAnimation instanceof Animation &&\n      currentAnimation.isDone()\n    ) {\n      this.state = State.SittingHoldingCoffee;\n      this.setDrawing(this.state);\n    }\n  }\n\n  public startWalkAnimation(target: number) {\n    this.state = State.Moving;\n    this.speak(\"\"); // Always clear speak when walking\n    if (this.pos.x === target) {\n      return;\n    } else if (this.pos.x > target) {\n      this.setDrawing(State.WalkLeft);\n    } else {\n      this.setDrawing(State.WalkRight);\n    }\n  }\n\n  public idle() {\n    if (randomIntInRange(0, 99) < 10) {\n      this.setDrawing(State.BeardScratch);\n      this.state = State.BeardScratch;\n    } else {\n      this.state = State.Idle;\n      this.setDrawing(State.Idle);\n    }\n  }\n\n  public speak(words: string) {\n    if (this.pos.x <= this.canvasMidpoint) {\n      this.saying.pos.x = 50;\n    } else {\n      this.saying.pos.x = -80 - words.length * 6;\n    }\n    this.lastTimeSpoken = Date.now();\n    this.saying.text = words;\n    this.saying.visible = true;\n  }\n\n  public groove() {\n    this.state =\n      this.state === State.Sitting ? State.SittingGrooving : State.Grooving;\n    this.setDrawing(this.state);\n  }\n\n  public sitting() {\n    this.state = State.Sitting;\n    this.setDrawing(State.Sitting);\n  }\n\n  public holdCoffee() {\n    this.state =\n      this.state === State.Sitting\n        ? State.SittingHoldingCoffee\n        : State.HoldingCoffee;\n    this.setDrawing(this.state);\n  }\n\n  public drinkCoffee() {\n    this.state =\n      this.state === State.SittingHoldingCoffee\n        ? State.SittingDrinkingCoffee\n        : State.DrinkingCoffee;\n    this.setDrawing(this.state);\n  }\n}\n","import { PropType } from \"../actors/base-actor\";\nimport { UIActor, Scene } from \"excalibur\";\nimport { PIXEL_SCALE, uiSpriteSheet } from \"../resources/loader\";\nimport { Coffee } from \"../actors/coffee\";\nimport { Office, Action } from \"../scenes/office\";\nimport { Flipper } from \"../actors/flipper\";\nimport { Headphones } from \"../actors/headphones\";\n\nexport class Inventory {\n  private rows = 3;\n  private columns = 3;\n  private slots: UIActor[] = [];\n  private scene: Scene;\n\n  public addToInventory(type: PropType) {\n    const emptySlot = this.slots.find((slot) => slot.children.length === 0);\n    const item = this.createProp(type);\n\n    console.log(item.width);\n    console.log(item.height);\n    emptySlot.add(item);\n  }\n\n  private createProp(type: PropType) {\n    const office = this.scene as Office;\n    switch (type) {\n      case PropType.Coffee:\n        const coffee = new Coffee();\n        coffee.pos.x = 30;\n        coffee.pos.y = 16;\n        coffee.on(\"pointerdown\", () =>\n          office.performAction(coffee, Action.InventoryUse)\n        );\n        return coffee;\n\n      case PropType.Flipper:\n        const flipper = new Flipper();\n        flipper.pos.x = 12;\n        flipper.pos.y = 30;\n        flipper.on(\"pointerdown\", () =>\n          office.performAction(flipper, Action.InventoryUse)\n        );\n        return flipper;\n      case PropType.Headphones:\n        const headphones = new Headphones();\n        headphones.pos.x = 28;\n        headphones.pos.y = 28;\n        headphones.on(\"pointerdown\", () =>\n          office.performAction(headphones, Action.InventoryUse)\n        );\n        return headphones;\n    }\n  }\n\n  public removeFromInventory(at: number) {\n    const slot = this.slots[at];\n    slot.children.forEach((item) => slot.remove(item));\n  }\n\n  public drawInventory(parent: Scene) {\n    this.scene = parent;\n    for (let i = 0; i < this.columns; i++) {\n      for (let j = 0; j < this.rows; j++) {\n        const slot = new UIActor(\n          700 + (i % this.columns) * 21 * PIXEL_SCALE,\n          500 + (j % this.rows) * 21 * PIXEL_SCALE,\n          20 * PIXEL_SCALE,\n          20 * PIXEL_SCALE\n        );\n        const sprite = uiSpriteSheet.getSprite(3);\n        slot.addDrawing(sprite);\n\n        this.slots.push(slot);\n        parent.add(slot);\n      }\n    }\n  }\n}\n","import { Actor, Engine, Color, Vector } from \"excalibur\";\nimport { coffeeSpriteSheet, PIXEL_SCALE } from \"../resources/loader\";\nimport { BaseActor, PropType } from \"./base-actor\";\n\nenum State {\n  Idle = \"idle\",\n}\n\nexport class Coffee extends BaseActor {\n  public displayName = \"Cup of coffee\";\n  public propType = PropType.Coffee;\n\n  public onInitialize(engine: Engine) {\n    const idle = coffeeSpriteSheet.getAnimationForAll(engine, 300);\n    this.anchor = Vector.Zero;\n    this.width = 8 * PIXEL_SCALE;\n    this.height = 12 * PIXEL_SCALE;\n    this.addDrawing(State.Idle, idle);\n  }\n}\n","import { Actor, Engine, Color, Events, Vector } from \"excalibur\";\nimport { propsSpriteSheet, PIXEL_SCALE } from \"../resources/loader\";\nimport { BaseActor, PropType } from \"./base-actor\";\n\nenum State {\n  Idle = \"idle\",\n}\n\nexport class Flipper extends BaseActor {\n  public displayName = \"Small programmable toy\";\n  public propType = PropType.Flipper;\n\n  public onInitialize(engine: Engine) {\n    const idle = propsSpriteSheet.getSprite(12);\n\n    this.anchor = Vector.Zero;\n    this.width = 14 * PIXEL_SCALE;\n    this.height = 5 * PIXEL_SCALE;\n\n    this.addDrawing(State.Idle, idle);\n  }\n\n  public update(engine: Engine, delta) {\n    super.update(engine, delta);\n  }\n}\n","import { Actor, Engine, Color, Vector } from \"excalibur\";\nimport { propsSpriteSheet, PIXEL_SCALE } from \"../resources/loader\";\nimport { BaseActor, PropType } from \"./base-actor\";\n\nenum State {\n  Idle = \"idle\",\n}\n\nexport class Headphones extends BaseActor {\n  public displayName = \"Headphones\";\n  public propType = PropType.Headphones;\n\n  public onInitialize(engine: Engine) {\n    this.anchor = Vector.Zero;\n    this.width = 7 * PIXEL_SCALE;\n    this.height = 7 * PIXEL_SCALE;\n    const idle = propsSpriteSheet.getSprite(7);\n    this.addDrawing(State.Idle, idle);\n  }\n}\n"],"sourceRoot":""}