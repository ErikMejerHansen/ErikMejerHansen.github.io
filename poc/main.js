!function(t){function e(e){for(var n,a,s=e[0],c=e[1],p=e[2],h=0,d=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);d.length;)d.shift()();return r.push.apply(r,p||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={0:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var p=0;p<s.length;p++)e(s[p]);var u=c;r.push([7,1]),o()}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2);e.PIXEL_SCALE=4;var i=o(8),r=o(9),a=o(10),s=o(11),c=o(12),p=o(13),u=o(14),h=o(15),d=o(16),f={background:new n.Texture(a),speakingFont:new n.Texture(i),actionFont:new n.Texture(r),props:new n.Texture(s),screen:new n.Texture(c),coffee:new n.Texture(p),ui:new n.Texture(u),me:new n.Texture(h),dark:new n.Texture(d)};e.Resources=f;var l=new n.Loader;for(var y in e.loader=l,l.logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",l.suppressPlayButton=!0,l.backgroundColor="#ababab",f)l.addResource(f[y]);var v=new n.SpriteSheet(f.props,6,4,31*e.PIXEL_SCALE,46*e.PIXEL_SCALE);e.propsSpriteSheet=v;var g=new n.SpriteSheet(f.screen,8,16,27*e.PIXEL_SCALE,22*e.PIXEL_SCALE);e.screenSpriteSheet=g;var S=new n.SpriteSheet(f.coffee,8,1,8*e.PIXEL_SCALE,12*e.PIXEL_SCALE);e.coffeeSpriteSheet=S;var m=new n.SpriteSheet(f.me,8,12,64*e.PIXEL_SCALE,64*e.PIXEL_SCALE);e.meSpriteSheet=m;var w=new n.SpriteSheet(f.ui,4,1,65*e.PIXEL_SCALE,20*e.PIXEL_SCALE);e.uiSpriteSheet=w;var _=new n.SpriteFont(f.actionFont,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!0123456789 .?",!1,67,1,6,10);e.actionFont=_;var A=new n.SpriteFont(f.speakingFont,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ",!1,96,1,128,128);e.speakingFont=A},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=o(2);!function(t){t[t.Coffee=0]="Coffee",t[t.Chair=1]="Chair",t[t.Flipper=2]="Flipper",t[t.Headphones=3]="Headphones",t[t.ImportantPapers=4]="ImportantPapers",t[t.Keyboard=5]="Keyboard",t[t.LightSwitch=6]="LightSwitch",t[t.LunarModule=7]="LunarModule",t[t.Me=8]="Me",t[t.Rocket=9]="Rocket",t[t.Screen=10]="Screen"}(e.PropType||(e.PropType={}));var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Actor);e.BaseActor=a},,function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a,s,c=o(2),p=o(0),u=o(17),h=o(18),d=o(4),f=o(19),l=o(5),y=o(6),v=o(20),g=o(21),S=o(22),m=o(23),w=o(24),_=o(1),A=o(25);!function(t){t[t.Left=4]="Left",t[t.Middle=216]="Middle",t[t.Right=480]="Right"}(r||(r={})),function(t){t[t.Top=500]="Top",t[t.Middle=584]="Middle",t[t.Bottom=668]="Bottom"}(a||(a={})),function(t){t.Give="Give",t.Open="Open",t.Close="Close",t.PickUp="Pick up",t.TalkTo="Talk to",t.LookAt="Look at",t.Use="Use",t.InventoryUse="InventoryUse",t.Push="Push",t.Pull="Pull"}(s=e.Action||(e.Action={}));var P=function(t){function e(){var e,o,n,i,r,a,c,p=null!==t&&t.apply(this,arguments)||this;return p.currentAction=s.LookAt,p.activeProps=[],p.inventory=new A.Inventory,p.actionMap=((e={})[_.PropType.Coffee]=((o={})[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("Looks like a cup of coffee.")}))},o[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.removeProp(t),p.inventory.addToInventory(_.PropType.Coffee)}))},o[s.Use]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.removeProp(t),p.inventory.addToInventory(_.PropType.Coffee),p.me.holdCoffee()}))},o[s.InventoryUse]=function(t){p.me.actions.clearActions(),p.me.actions.callMethod((function(){p.me.holdCoffee()}))},o),e[_.PropType.LightSwitch]=((n={})[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("That is differently a light switch.")}))},n[s.Use]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.darkOverlay.visible?p.me.actions.callMethod((function(){return p.darkOverlay.visible=!1})).callMethod((function(){p.me.speak("That's better!")})):p.me.actions.callMethod((function(){return p.darkOverlay.visible=!0})).callMethod((function(){p.me.speak("Ehmm.. kinda dark now")}))},n[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){return p.me.speak("It's stuck to the wall.")}))},n),e[_.PropType.Headphones]=((i={})[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("Sonic productivity boosters. Or... headphones")}))},i[s.Use]=function(t){p.me.actions.clearActions(),p.actionMap[_.PropType.Headphones][s.PickUp](t),p.me.actions.callMethod((function(){p.me.groove()}))},i[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.removeProp(t),p.inventory.addToInventory(_.PropType.Headphones)}))},i[s.InventoryUse]=function(t){p.me.actions.clearActions(),p.me.actions.callMethod((function(){p.me.groove()}))},i),e[_.PropType.Flipper]=((r={})[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("Its a small programmable robot toy")}))},r[s.Use]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("It's not of much use right now")}))},r[s.InventoryUse]=function(t){p.me.actions.clearActions(),p.me.actions.callMethod((function(){p.me.speak("It's not of much use right now")}))},r[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.removeProp(t),p.inventory.addToInventory(_.PropType.Flipper)}))},r),e[_.PropType.Chair]=((a={})[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("Its a chair. You sit in it")}))},a[s.Use]=function(t){p.me.actions.clearActions(),p.moveToItem(t,126),p.me.actions.callMethod((function(){return p.me.sitting()})).callMethod((function(){return t.actions.fade(0,0)}))},a[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("It's a bit too large to carry around")}))},a),e[_.PropType.Keyboard]=((c={})[s.PickUp]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("I think I'll leave it in place for now.")}))},c[s.Use]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.screen.toggleState()}))},c[s.LookAt]=function(t){p.me.actions.clearActions(),p.moveToItem(t),p.me.actions.callMethod((function(){p.me.speak("Thats my keyboard. There are many like it...")}))},c),e),p}return i(e,t),e.prototype.onInitialize=function(t){var e=this,o=new c.Actor;o.addDrawing(p.Resources.background),o.anchor=c.Vector.Zero,o.pos.x=0,o.pos.y=0,this.add(o);var n=new c.Actor(730,444);n.addDrawing(p.propsSpriteSheet.getSprite(3)),this.add(n);var i=new c.Actor(282,444);i.addDrawing(p.propsSpriteSheet.getSprite(4)),this.add(i);var r=new c.Actor(750,388);r.addDrawing(p.propsSpriteSheet.getSprite(11)),this.add(r);var a=new c.Actor(776,364);a.addDrawing(p.propsSpriteSheet.getSprite(16)),this.add(a);var s=new c.Actor(690,170);s.addDrawing(p.propsSpriteSheet.getSprite(10)),this.add(s);var _=new c.Actor(640,260);_.addDrawing(p.propsSpriteSheet.getSprite(9)),this.add(_);var A=new c.Actor(400,140);A.addDrawing(p.propsSpriteSheet.getSprite(0)),this.add(A),this.screen=new u.Screen(510,298),this.add(this.screen);var P=p.propsSpriteSheet.getSprite(17),b=new c.Actor(730,92);b.addDrawing(P),this.add(b);var I=new c.Actor(338,92);I.addDrawing(P),this.add(I);var k=new h.Rocket(400,138);this.add(k);var L=new d.Coffee(416,296);this.add(L),this.activeProps.push(L);var O=new f.ImportantPapers(320,400);this.add(O),this.activeProps.push(O);var C=new l.Headphones(284,314);this.add(C),this.activeProps.push(C);var T=new y.Flipper(548,324);this.add(T),this.activeProps.push(T);var M=new v.LightSwitch(950,282);this.add(M),this.activeProps.push(M);var D=p.propsSpriteSheet.getSprite(13),E=new c.Actor(696,414);E.addDrawing(D),this.add(E);var x=new g.LunarAscendModule(716,402);this.add(x),this.activeProps.push(x);var B=new S.Keyboard(490,338);this.add(B),this.activeProps.push(B);var j=new m.Chair(338,304);this.add(j),this.activeProps.push(j),this.darkOverlay=new c.Actor(0,0),this.darkOverlay.anchor=c.Vector.Zero,this.darkOverlay.pos.x=0,this.darkOverlay.pos.y=0,this.darkOverlay.addDrawing(p.Resources.dark),this.darkOverlay.visible=!1,this.add(this.darkOverlay),this.me=new w.Me(80,444),this.me.setMidPoint(t.halfDrawWidth),this.add(this.me),this.activeProps.push(this.me),this.actionLabel=new c.Label("",400,494,null,p.actionFont),this.actionLabel.color=c.Color.fromHex("7dadcb"),this.actionLabel.fontSize=28,this.add(this.actionLabel);for(var U=function(t){t.on("pointerdown",(function(){return e.performAction(t)}))},X=0,H=this.activeProps;X<H.length;X++){U(H[X])}},e.prototype.performAction=function(t,e){var o=e||this.currentAction;this.actionMap[t.propType][o](t)},e.prototype.removeProp=function(t){this.remove(t),this.activeProps=this.activeProps.filter((function(e){return e!==t}))},e.prototype.moveToItem=function(t,e){var o=this;void 0===e&&(e=0),this.me.actions.callMethod((function(){return o.me.startWalkAnimation(t.pos.x-50+e)})).moveTo(t.pos.x-50+e,this.me.getBottom(),w.Me.walkSpeed).callMethod((function(){return o.me.idle()}))},e.prototype.buildUI=function(){var t=this;this.add(this.buildButton("Give",r.Left,a.Top)),this.add(this.buildButton("Open",r.Left,a.Middle)),this.add(this.buildButton("Close",r.Left,a.Bottom)),this.add(this.buildButton("Pick up",r.Middle,a.Top,(function(){t.currentAction=s.PickUp}))),this.add(this.buildButton("Talk to",r.Middle,a.Middle)),this.add(this.buildButton("Look at",r.Middle,a.Bottom,(function(){t.currentAction=s.LookAt}))),this.add(this.buildButton("Use",r.Right,a.Top,(function(){t.currentAction=s.Use}))),this.add(this.buildButton("Push",r.Right,a.Middle)),this.add(this.buildButton("Pull",r.Right,a.Bottom)),this.inventory.drawInventory(this)},e.prototype.buildButton=function(t,e,o,n){var i,a;switch(e){case r.Left:i=p.uiSpriteSheet.getSprite(0),a=51*p.PIXEL_SCALE;break;case r.Middle:i=p.uiSpriteSheet.getSprite(1),a=65*p.PIXEL_SCALE;break;case r.Right:i=p.uiSpriteSheet.getSprite(2),a=51*p.PIXEL_SCALE}var s=new c.UIActor(e,o,a,20*p.PIXEL_SCALE);return s.addDrawing(i),s.add(this.buttonText(t,n,62)),n&&s.on("pointerdown",n),s},e.prototype.buttonText=function(t,e,o){void 0===e&&(e=!1);var n=new c.Label(t,o,62,null,p.actionFont);return n.color=e?c.Color.fromHex("9cbeaf"):c.Color.fromHex("456d7a"),n.fontSize=34,n},e.prototype.onPostUpdate=function(t){var e=t.input.pointers.primary.lastWorldPos;if(e){var o=this.activePropAt(e.x,e.y);o?this.setActionString([o]):this.setActionString()}else this.setActionString()},e.prototype.activePropAt=function(t,e){for(var o=0,n=this.activeProps;o<n.length;o++){var i=n[o];if(i.pos.x<=t&&t<=i.pos.x+i.width&&i.pos.y<=e&&e<=i.pos.y+i.height)return i}},e.prototype.setActionString=function(t){void 0===t&&(t=[]),t.length>0?this.actionLabel.text=this.currentAction+" "+t[0].displayName:this.actionLabel.text=""+this.currentAction},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(c.Scene);e.Office=P},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Idle="idle"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Cup of coffee",e.propType=c.PropType.Coffee,e}return i(e,t),e.prototype.onInitialize=function(t){var e=s.coffeeSpriteSheet.getAnimationForAll(t,300);this.anchor=a.Vector.Zero,this.width=8*s.PIXEL_SCALE,this.height=12*s.PIXEL_SCALE,this.addDrawing(r.Idle,e)},e}(c.BaseActor);e.Coffee=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Idle="idle"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Headphones",e.propType=c.PropType.Headphones,e}return i(e,t),e.prototype.onInitialize=function(t){this.anchor=a.Vector.Zero,this.width=7*s.PIXEL_SCALE,this.height=7*s.PIXEL_SCALE;var e=s.propsSpriteSheet.getSprite(7);this.addDrawing(r.Idle,e)},e}(c.BaseActor);e.Headphones=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Idle="idle"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Small programmable toy",e.propType=c.PropType.Flipper,e}return i(e,t),e.prototype.onInitialize=function(t){var e=s.propsSpriteSheet.getSprite(12);this.anchor=a.Vector.Zero,this.width=14*s.PIXEL_SCALE,this.height=5*s.PIXEL_SCALE,this.addDrawing(r.Idle,e)},e.prototype.update=function(e,o){t.prototype.update.call(this,e,o)},e}(c.BaseActor);e.Flipper=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(3),i=o(0),r=o(2),a=new r.Engine({displayMode:r.DisplayMode.FullScreen});a.start(i.loader),a.backgroundColor=new r.Color(0,0,0),a.setAntialiasing(!1),a.add("office",new n.Office(a)),a.goToScene("office")},function(t,e,o){t.exports=o.p+"55ef1337ab9a65a4a3f2b5c12f7d437c.png"},function(t,e,o){t.exports=o.p+"316b8af939e84165dc4ce706d373056d.png"},function(t,e,o){t.exports=o.p+"57f6da829ed3ffd6eb5c0d81b776d2a7.png"},function(t,e,o){t.exports=o.p+"383f4a8fc1e26e096714d8293e232259.png"},function(t,e,o){t.exports=o.p+"9358f212fa5635096323c1efad5c06bc.png"},function(t,e,o){t.exports=o.p+"aa8f045f3048d9c3f447f45063c42c6b.png"},function(t,e,o){t.exports=o.p+"cb921b6684fd1ecf73e2c3ba0be947aa.png"},function(t,e,o){t.exports=o.p+"0bd61d9184be9d2903d480f8ae91eff4.png"},function(t,e,o){t.exports=o.p+"55b51420e9bb0dee7b77500be232593f.png"},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(0),s=o(1);!function(t){t.Idle="idle",t.Coding="coding"}(r||(r={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Screen",e.propType=s.PropType.Screen,e.state=r.Idle,e}return i(e,t),e.prototype.onInitialize=function(t){var e=a.screenSpriteSheet.getAnimationBetween(t,8,10,300);e.loop=!0,this.addDrawing(r.Idle,e);var o=a.screenSpriteSheet.getAnimationBetween(t,16,99,180);o.loop=!0,this.addDrawing(r.Coding,o),this.setDrawing(r.Idle)},e.prototype.toggleState=function(){this.state=this.state===r.Idle?r.Coding:r.Idle,this.setDrawing(this.state)},e}(s.BaseActor);e.Screen=c},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(0),s=o(1);!function(t){t.Idle="idle",t.Launching="launching",t.Gone="gone"}(r||(r={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="On a marché sur la Lune",e.propType=s.PropType.Rocket,e}return i(e,t),e.prototype.onInitialize=function(t){var e=a.propsSpriteSheet.getSprite(1);this.addDrawing(r.Idle,e)},e}(s.BaseActor);e.Rocket=c},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(0),s=o(1);!function(t){t.Idle="idle"}(r||(r={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Very important papers",e.propType=s.PropType.ImportantPapers,e}return i(e,t),e.prototype.onInitialize=function(t){var e=a.propsSpriteSheet.getSprite(15);this.addDrawing(r.Idle,e)},e}(s.BaseActor);e.ImportantPapers=c},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Idle="idle"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Light switch",e.propType=c.PropType.LightSwitch,e}return i(e,t),e.prototype.onInitialize=function(t){var e=s.propsSpriteSheet.getSprite(2);this.anchor=a.Vector.Zero,this.width=5*s.PIXEL_SCALE,this.height=7*s.PIXEL_SCALE,this.addDrawing(r.Idle,e)},e}(c.BaseActor);e.LightSwitch=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(0),s=o(1);!function(t){t.Idle="idle"}(r||(r={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="#10266 Apollo 11 Lunar Lander",e.propType=s.PropType.LunarModule,e}return i(e,t),e.prototype.onInitialize=function(t){var e=a.propsSpriteSheet.getSprite(14);this.addDrawing(r.Idle,e)},e}(s.BaseActor);e.LunarAscendModule=c},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Idle="idle"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Keyboard",e.propType=c.PropType.Keyboard,e}return i(e,t),e.prototype.onInitialize=function(t){var e=s.propsSpriteSheet.getSprite(8);this.addDrawing(r.Idle,e),this.anchor=a.Vector.Zero,this.width=11*s.PIXEL_SCALE,this.height=2*s.PIXEL_SCALE,this.anchor=a.Vector.Zero},e}(c.BaseActor);e.Keyboard=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(1);!function(t){t.Sideways="sideways",t.Back="back"}(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Chair",e.propType=c.PropType.Chair,e}return i(e,t),e.prototype.onInitialize=function(t){this.anchor=a.Vector.Zero,this.width=21*s.PIXEL_SCALE,this.height=35*s.PIXEL_SCALE,this.addDrawing(r.Sideways,s.propsSpriteSheet.getSprite(5)),this.addDrawing(r.Back,s.propsSpriteSheet.getSprite(6)),this.setDrawing(r.Sideways)},e}(c.BaseActor);e.Chair=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(2),s=o(0),c=o(26),p=o(1);!function(t){t.Idle="idle",t.Moving="moving",t.WalkRight="walkRight",t.WalkLeft="walkLeft",t.BeardScratch="beardScratch",t.HoldingCoffee="holdingCoffee",t.DrinkingCoffee="drinkingCoffee",t.Grooving="grooving",t.Sitting="sitting",t.SittingHoldingCoffee="sittingHoldingCoffee",t.SittingDrinkingCoffee="sittingDrinkingCoffee",t.SittingGrooving="sittingGrooving",t.Back="back",t.BackGrooving="backGrooving"}(r||(r={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="Me",e.propType=p.PropType.Me,e.animationSpeed=200,e.lastTimeSpoken=Date.now(),e.state=r.Idle,e}return i(e,t),e.prototype.setMidPoint=function(t){this.canvasMidpoint=t},e.prototype.onInitialize=function(t){this.anchor.setTo(.5,1),this.addDrawing(r.Idle,s.meSpriteSheet.getSprite(16));var e=s.meSpriteSheet.getAnimationBetween(t,25,32,this.animationSpeed);e.loop=!1,this.addDrawing(r.BeardScratch,e),this.addDrawing(r.HoldingCoffee,s.meSpriteSheet.getAnimationBetween(t,32,41,this.animationSpeed));var o=s.meSpriteSheet.getAnimationBetween(t,40,48,this.animationSpeed);o.loop=!1,this.addDrawing(r.DrinkingCoffee,o),this.addDrawing(r.Grooving,s.meSpriteSheet.getAnimationBetween(t,48,64,this.animationSpeed)),this.addDrawing(r.WalkLeft,s.meSpriteSheet.getAnimationBetween(t,8,16,this.animationSpeed)),this.addDrawing(r.WalkRight,s.meSpriteSheet.getAnimationBetween(t,0,8,this.animationSpeed)),this.addDrawing(r.Sitting,s.meSpriteSheet.getSprite(19)),this.addDrawing(r.SittingGrooving,s.meSpriteSheet.getAnimationBetween(t,64,71,this.animationSpeed)),this.addDrawing(r.SittingHoldingCoffee,s.meSpriteSheet.getAnimationBetween(t,88,96,this.animationSpeed));var n=s.meSpriteSheet.getAnimationBetween(t,80,88,this.animationSpeed);n.loop=!1,this.addDrawing(r.SittingDrinkingCoffee,n),this.saying=new a.Label("",50,-240,null,s.speakingFont),this.saying.letterSpacing=-10,this.saying.text="",this.saying.visible=!1,this.saying.fontSize=28,this.add(this.saying),this.setDrawing(r.Idle),this.speak("Hi")},e.prototype.onPostDraw=function(){this.lastTimeSpoken-Date.now()<-5e3&&this.speak("");var t=this.currentDrawing;this.state===r.BeardScratch&&t instanceof a.Animation&&t.isDone()?this.idle():this.state===r.Idle&&c.randomIntInRange(0,200)<1?(this.setDrawing(r.BeardScratch),this.state=r.BeardScratch):[r.HoldingCoffee,r.SittingHoldingCoffee].includes(this.state)&&c.randomIntInRange(0,140)<1?this.drinkCoffee():this.state===r.DrinkingCoffee&&t instanceof a.Animation&&t.isDone()?(this.setDrawing(r.HoldingCoffee),this.state=r.HoldingCoffee):this.state===r.SittingDrinkingCoffee&&t instanceof a.Animation&&t.isDone()&&(this.state=r.SittingHoldingCoffee,this.setDrawing(this.state))},e.prototype.startWalkAnimation=function(t){this.state=r.Moving,this.speak(""),this.pos.x!==t&&(this.pos.x>t?this.setDrawing(r.WalkLeft):this.setDrawing(r.WalkRight))},e.prototype.idle=function(){c.randomIntInRange(0,99)<10?(this.setDrawing(r.BeardScratch),this.state=r.BeardScratch):(this.state=r.Idle,this.setDrawing(r.Idle))},e.prototype.speak=function(t){this.pos.x<=this.canvasMidpoint?this.saying.pos.x=50:this.saying.pos.x=-80-6*t.length,this.lastTimeSpoken=Date.now(),this.saying.text=t,this.saying.visible=!0},e.prototype.groove=function(){this.state=this.state===r.Sitting?r.SittingGrooving:r.Grooving,this.setDrawing(this.state)},e.prototype.sitting=function(){this.state=r.Sitting,this.setDrawing(r.Sitting)},e.prototype.holdCoffee=function(){this.state=this.state===r.Sitting?r.SittingHoldingCoffee:r.HoldingCoffee,this.setDrawing(this.state)},e.prototype.drinkCoffee=function(){this.state=this.state===r.SittingHoldingCoffee?r.SittingDrinkingCoffee:r.DrinkingCoffee,this.setDrawing(this.state)},e.walkSpeed=120,e}(p.BaseActor);e.Me=u},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),i=o(2),r=o(0),a=o(4),s=o(3),c=o(6),p=o(5),u=function(){function t(){this.rows=3,this.columns=3,this.slots=[]}return t.prototype.addToInventory=function(t){var e=this.slots.find((function(t){return 0===t.children.length})),o=this.createProp(t);console.log(o.width),console.log(o.height),e.add(o)},t.prototype.createProp=function(t){var e=this.scene;switch(t){case n.PropType.Coffee:var o=new a.Coffee;return o.pos.x=30,o.pos.y=16,o.on("pointerdown",(function(){return e.performAction(o,s.Action.InventoryUse)})),o;case n.PropType.Flipper:var i=new c.Flipper;return i.pos.x=12,i.pos.y=30,i.on("pointerdown",(function(){return e.performAction(i,s.Action.InventoryUse)})),i;case n.PropType.Headphones:var r=new p.Headphones;return r.pos.x=28,r.pos.y=28,r.on("pointerdown",(function(){return e.performAction(r,s.Action.InventoryUse)})),r}},t.prototype.removeFromInventory=function(t){var e=this.slots[t];e.children.forEach((function(t){return e.remove(t)}))},t.prototype.drawInventory=function(t){this.scene=t;for(var e=0;e<this.columns;e++)for(var o=0;o<this.rows;o++){var n=new i.UIActor(700+e%this.columns*21*r.PIXEL_SCALE,500+o%this.rows*21*r.PIXEL_SCALE,20*r.PIXEL_SCALE,20*r.PIXEL_SCALE),a=r.uiSpriteSheet.getSprite(3);n.addDrawing(a),this.slots.push(n),t.add(n)}},t}();e.Inventory=u}]);
//# sourceMappingURL=main.js.map